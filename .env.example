# This is an example environment file. Copy it to .env and fill in your values.

# --- Database Settings ---
# These must match the POSTGRES_* variables in docker-compose.yml
DB_HOST=db
DB_PORT=5432  # Default PostgreSQL port. Change if using non-standard port.
DB_NAME=librarrarian
DB_USER=transcode
DB_PASSWORD=your_super_secret_password

# --- Web Application Secret ---
# This is used to secure user sessions. Generate a random string for this.
# On Linux/macOS, you can run: openssl rand -hex 32
FLASK_SECRET_KEY=your_random_flask_secret_key

# --- General Settings ---
# Set the timezone for the containers, e.g., 'Australia/Sydney', 'America/New_York'
TZ=UTC

# --- API Key for Worker Authentication ---
# This is required if AUTH_ENABLED is true. Generate a secure random string.
# On Linux/macOS, you can run: openssl rand -hex 32
API_KEY=your_secure_worker_api_key

# --- Authentication Settings (Optional) ---
# Master switch to enable authentication features.
AUTH_ENABLED=true #has to be true for now

# OIDC Provider Settings (if AUTH_ENABLED is true)
OIDC_ENABLED=false
OIDC_ISSUER_URL=https://your-provider.com/auth/realms/your-realm
OIDC_CLIENT_ID=your-client-id
OIDC_CLIENT_SECRET=your-client-secret
OIDC_PROVIDER_NAME=Authentik # Optional: The display name for your OIDC provider

# Local Login Settings (if AUTH_ENABLED is true)
LOCAL_LOGIN_ENABLED=false
LOCAL_USER=admin
# The password must be base64 encoded. To generate, run: echo -n 'your_password' | base64
# Example: echo -n 'MySecurePassword123!' | base64
# Replace the value below with your actual base64-encoded password
LOCAL_PASSWORD=your_base64_encoded_password_replace_this

# --- SSL/TLS Settings ---
# Set to 'false' only for development with self-signed certificates
# For production, always leave as 'true' to enable certificate verification
OIDC_SSL_VERIFY=true
ARR_SSL_VERIFY=true

# --- Worker Media Path Settings ---
# Comma-separated list of allowed base directories for media files
# This is used for security validation to prevent path traversal attacks
# Default: /media
# Example for NFS mounts: MEDIA_PATHS=/media,/nfs/media,/mnt/storage
MEDIA_PATHS=/media